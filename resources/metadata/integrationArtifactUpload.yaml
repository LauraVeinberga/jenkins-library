metadata:
  name: integrationArtifactUpload
  description: Upload or update an integration flow design time artifact.
  longDescription: |
    With this step, you can either upload or update an integration flow design time artifact using the OData API. For more information on the SAP Cloud Integration remote API for updating an integration flow artifact, see [Integration Content](https://help.sap.com/viewer/368c481cd6954bdfa5d0435479fd4eaf/Cloud/en-US/d1679a80543f46509a7329243b595bdb.html) on SAP Help Portal.

spec:
  inputs:
    secrets:
      - name: cpiApiServiceKeyCredentialsId
        description: Jenkins secret text credential ID containing the service key to access the Process Integration runtime service instance of plan 'api'.
        type: jenkins
    params:
      - name: apiServiceKey
        type: string
        description: Service key JSON string to access the Process Integration runtime service instance of plan 'api'.
        scope:
          - PARAMETERS
        mandatory: true
        secret: true
        resourceRef:
          - name: cpiApiServiceKeyCredentialsId
            type: secret
            param: apiServiceKey
      - name: integrationFlowId
        type: string
        description: Specifies the ID of the integration flow artifact.
        scope:
          - PARAMETERS
          - GENERAL
          - STAGES
          - STEPS
        mandatory: true
      - name: integrationFlowName
        type: string
        description: Specifies the name of the integration flow artifact.
        scope:
          - PARAMETERS
          - STAGES
          - STEPS
        mandatory: true
      - name: packageId
        type: string
        description: Specifies the ID of the integration package.
        scope:
          - PARAMETERS
          - STAGES
          - STEPS
        mandatory: false
      - name: filePath
        type: string
        description: Specifies the relative file path to the file containing the integration artifact.
        scope:
          - PARAMETERS
          - STAGES
          - STEPS
        mandatory: true
